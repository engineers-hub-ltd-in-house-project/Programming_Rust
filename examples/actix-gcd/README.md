# GCD Webアプリケーション

このサンプルは『Programming Rust』第2版の第2章「Rustのツアー」で紹介されている最大公約数（GCD）計算機能をWebアプリケーションとして実装したものです。

## 概要

このプログラムは、[Actix Web](https://actix.rs/)フレームワークを使用して作成されたWebアプリケーションで、ブラウザから2つの数値を入力して最大公約数を計算することができます。

## 学べる概念

- Webフレームワーク（Actix Web）の基本
- HTMLフォーム処理
- リクエスト/レスポンスの処理
- 外部クレート（依存関係）の使用方法
- 非同期プログラミングの基礎

## 主要コンポーネント

### GCD計算関数

ユークリッドのアルゴリズムを使用して2つの数値の最大公約数を計算する関数です。

```rust
fn gcd(mut n: u64, mut m: u64) -> u64 {
    assert!(n != 0 && m != 0);
    while m != 0 {
        if m < n {
            let t = m;
            m = n;
            n = t;
        }
        m = m % n;
    }
    n
}
```

### Webアプリケーション関連

- **`index` ハンドラ**: ルートURLにアクセスしたときにHTMLフォームを表示します。
- **`post_gcd` ハンドラ**: フォームから送信されたデータを処理してGCDを計算します。
- **`App::new()`**: ルーティングやミドルウェアを設定します。

## 実行方法

```bash
# ビルド
cargo build

# 実行
cargo run

# ブラウザでアクセス
# http://localhost:3000/
```

実行後、ブラウザで http://localhost:3000/ にアクセスすると、数値を入力するフォームが表示されます。二つの整数を入力して「Compute GCD」ボタンをクリックすると、それらの最大公約数が表示されます。

## 学習ポイント

1. **Webフレームワークの使用**: Actix Webフレームワークを使用してWebアプリケーションを構築する方法を学びます。これは、RustをWeb開発に使用する方法の良い例です。

2. **非同期プログラミング**: 関数に`async`キーワードを使用し、非同期処理の基本を学びます。

3. **エラー処理**: フォームデータの解析時のエラー処理など、Webアプリケーションにおけるエラー処理の方法を学びます。

4. **HTMLの生成**: プログラムでHTMLを生成して返す方法を学びます。

5. **フォーム処理**: HTTPのPOSTリクエストとフォームデータの処理方法を学びます。

## 発展課題

1. フォームのバリデーションを追加する（負の数や非数値の入力のチェック）
2. 複数の数値（2つ以上）の最大公約数を計算できるように拡張する
3. 結果の履歴を保存して表示する機能を追加する
4. CSSを使ってUIをより魅力的にする
5. テンプレートエンジン（Tera, Askama等）を使用してHTMLを生成するようにリファクタリングする
6. RESTful APIエンドポイント（JSON）を追加する 
